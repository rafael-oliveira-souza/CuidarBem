<div class="container-fluid mt-4 text-center mb-4">
  <h2 class="text-center mb-5">Pedidos</h2>

  <div class="tabela-pedidos">
    <p-table [value]="pedidos" [paginator]="true" [rows]="10" class="headTb">
      <ng-template pTemplate="header">
        <tr>
          <th>Número</th>
          <th>Cliente</th>
          <th>Descrição</th>
          <th>Quantidade</th>
          <th>Valor</th>
          <th>Data</th>
          <th>Situação</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-pedido>
        <tr>
          <td>
            <p>{{ pedido.numero }}</p>
          </td>
          <td>
            <p>{{ getNomeCliente(pedido.cliente) }}</p>
          </td>
          <td>
            <p>{{ pedido.descricao }}</p>
          </td>
          <td>
            <p>{{ pedido.quantidade }}</p>
          </td>
          <td>
            <p>{{ pedido.valor | moeda }}</p>
          </td>
          <td>
            <p>{{ pedido.data | data }}</p>
          </td>
          <td pEditableColumn>
            <p-cellEditor class="bord">
              <ng-template pTemplate="input">
                <select pInputText [(ngModel)]="pedido.situacao">
                  <option>APROVADO</option>
                  <option>PENDENTE</option>
                  <option>REJEITADO</option>
                </select>
              </ng-template>
              <ng-template pTemplate="output">
                {{ pedido.situacao }}
              </ng-template>
            </p-cellEditor>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>

  <div class="detalhe-pedidos">
    <p-table
      responsiveLayout="scroll"
      [value]="pedidos"
      [paginator]="true"
      [rows]="5"
      class="headTb"
    >
      <ng-template pTemplate="header">
        <tr>
          <th>Detalhe Pedido</th>
          <th>Situação</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-pedido>
        <tr>
          <td>
            <p>Número: {{ pedido.numero }}</p>
            <p>Cliente: {{ getNomeCliente(pedido.cliente) }}</p>
            <p>Descrição: {{ pedido.descricao }}</p>
            <p>Quantidade: {{ pedido.quantidade }}</p>
            <p>Valor: {{ pedido.valor | moeda }}</p>
            <p>Data: {{ pedido.data | data }}</p>
          </td>
          <td pEditableColumn>
            <p-cellEditor class="bord">
              <ng-template pTemplate="input">
                <select pInputText [(ngModel)]="pedido.situacao">
                  <option>APROVADO</option>
                  <option>PENDENTE</option>
                  <option>REJEITADO</option>
                </select>
              </ng-template>
              <ng-template pTemplate="output">
                {{ pedido.situacao }}
              </ng-template>
            </p-cellEditor>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>

  <button
    pButton
    type="button"
    label="Atualizar Pedidos"
    icon="pi pi-refresh"
    (click)="atualizarPedidos()"
    class="p-button-sm p-button-success mt-5 mb-4 text-light"
  ></button>
</div>
<br />
